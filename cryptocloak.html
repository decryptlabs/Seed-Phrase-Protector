<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Cloak: Secure your seed phrase</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background: #1a1a1a;
            color: #e0e0e0;
            border: 2px solid #00ff99;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 255, 153, 0.3);
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            color: #00ff99;
            text-shadow: 0 0 5px #00ff99;
        }
        input, textarea, button {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            background: #2d2d2d;
            color: #e0e0e0;
            border: 1px solid #00cc77;
            border-radius: 5px;
            display: block;
        }
        textarea {
            height: 100px;
            resize: vertical;
        }
        #result {
            margin-top: 20px;
            padding: 10px;
            word-wrap: break-word;
            max-height: 300px;
            overflow-y: auto;
            background: #252525;
            color: #ffffff;
            display: block;
            border: none;
        }
        #result:not(:empty) {
            border: 1px dashed #00cc77;
        }
        .error {
            color: #ff3366;
            margin-top: 10px;
            text-shadow: 0 0 5px #ff3366;
        }
        .toggle {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            margin-right: 10px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #666;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: #e0e0e0;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #00cc77;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        #modeLabel {
            color: #00ff99;
            text-shadow: 0 0 5px #00ff99;
        }
        #encryptForm, #decryptForm {
            display: none;
        }
        #encryptForm.active, #decryptForm.active {
            display: block;
        }
        .radio-group {
            display: flex;
            gap: 20px;
        }
        /* Default button style (for Print and Forge) */
        button {
            margin-top: 10px;
            padding: 8px;
            background: #2d2d2d;
            color: #e0e0e0;
            border: 1px solid #00cc77;
            border-radius: 5px;
            cursor: pointer;
            text-transform: uppercase;
            font-weight: bold;
        }
        button:hover:not(#lockVaultButton):not(#unlockVaultButton) {
            background: #3d3d3d;
            border-color: #00ff99;
        }
        /* Green variation for Lock/Unlock Vault */
        #lockVaultButton, #unlockVaultButton {
            background-color: #00cc77;
            color: #1a1a1a;
            border: none;
        }
        #lockVaultButton:hover, #unlockVaultButton:hover {
            background-color: #00ff99;
            box-shadow: 0 0 10px #00ff99;
        }
        #printButton {
            display: none !important;
        }
        #encryptWords {
            width: 100%;
            min-height: 50px;
            padding: 8px;
            border: 1px solid #00cc77;
            box-sizing: border-box;
            outline: none;
            white-space: pre-wrap;
            overflow: auto;
            background: #2d2d2d;
            color: #e0e0e0;
            border-radius: 5px;
            display: block;
        }
        #encryptWords:focus {
            border-color: #00ff99;
            box-shadow: 0 0 5px #00ff99;
        }
        #encryptWords.placeholder {
            color: #666;
        }
        #suggestions {
            position: absolute;
            background: #2d2d2d;
            border: 1px solid #00cc77;
            max-height: 150px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            color: #e0e0e0;
            width: 200px;
        }
        .suggestion {
            padding: 5px;
            cursor: pointer;
        }
        .suggestion:hover {
            background: #3d3d3d;
        }
        /* Tooltip Styling */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 300px;
            background-color: #2d2d2d;
            color: #00ff99;
            text-align: left;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #00cc77;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 0 10px rgba(0, 255, 153, 0.5);
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        /* Modal Styling */
        .modal {
            display: block;
            position: fixed;
            z-index: 1002;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
        }
        .modal-content {
            background: #2d2d2d;
            color: #e0e0e0;
            margin: 15% auto;
            padding: 20px;
            border: 2px solid #00ff99;
            border-radius: 10px;
            width: 80%;
            max-width: 700px;
            box-shadow: 0 0 20px rgba(0, 255, 153, 0.5);
            position: relative;
        }
        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #00cc77;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
        }
        .modal-close:hover {
            color: #00ff99;
            text-shadow: 0 0 10px #00ff99;
        }

        /*.modal {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            background: #1e1e1e;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(255, 255, 255, 0.1);
        }
        h2 {
            color: #4CAF50;
        }
        .step {
            margin-bottom: 15px;
        }*/
    </style>
</head>
<body>
    <!-- Modal -->
    <!-- <div id="introModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">X</span>
            <h2>Welcome to Crypto Cloak: Secure Your Seed Phrase</h2>
            <p>Crypto Cloak is a tool designed to protect your BIP-39 seed phrase by encrypting it into a list of 2048 words (the total number of words in the BIP-39 list). This makes it extremely difficult for anyone without the correct key and indentation to access your original seed phrase. The tool is simple to use, highly secure, and can be run locally for added trust.</p>
            
            <h3>Why Use Crypto Cloak?</h3>
            <ul>
                <li><strong>Security</strong>: Your seed phrase is hidden within a 2048-word list using a key and indentation that only you know. Without these, the list appears random and is nearly impossible to crack.</li>
                <li><strong>Trust</strong>: You don't need to trust us with your keys to the treasure chest. Download the tool code and run it locally on your machine for complete control and privacy.</li>
                <li><strong>Portability</strong>: Once encrypted, you can print or save the 2048-word list for secure storage. The list can be kept in plain sight, as it's useless without the key and indentation.</li>
            </ul>

            <h3>How It Works</h3>
            <p><strong>Encryption</strong>: Your seed phrase (12 or 24 words) is placed into specific positions within a 2048-word list. These positions are determined by your chosen key (a sequence of numbers, e.g., "2 3 4") and indentation (a starting offset, e.g., "2"). The remaining spots are filled with random BIP-39 words without any duplicates.</p>
            <p><strong>Decryption</strong>: Using the same key, indentation, and the length of your original seed phrase (12 or 24), the tool extracts your seed phrase from the 2048-word list.</p>

            <h3>Example: Encrypting a Seed Phrase</h3>
            <p>Let's say your seed phrase is: <code>abandon ability able about above absent absorb abstract absurd abuse access accident</code> (12 words).</p>
            <p>You choose a key: <code>2 3 4</code> and an indentation: <code>2</code>.</p>
            <p>The positions for your words are calculated as follows:</p>
            <ul>
                <li>First position: indent + (first key number - 1) = 2 + (2 - 1) = 3</li>
                <li>Second position: 3 + 3 = 6</li>
                <li>Third position: 6 + 4 = 10</li>
                <li>Fourth position: 10 + 2 = 12 (key loops back to 2)</li>
                <li>And so on, until all 12 words are placed.</li>
            </ul>
            <p>The final positions for your 12 words would be: 3, 6, 10, 12, 15, 19, 21, 24, 28, 30, 33, 37.</p>
            <p>The tool then fills the remaining 2036 positions with the remaining BIP-39 words at random, creating a 2048-word list.</p>

            <h3>Example: Decrypting a Seed Phrase</h3>
            <p>To decrypt using this tool, you would:</p>
            <ul>
                <li>Paste the 2048-word list into the "Cloak Text" field.</li>
                <li>Enter the same key: <code>2 3 4</code> and indentation: <code>2</code>.</li>
                <li>Select the seed length: <code>12</code>.</li>
                <li>Click "Unlock Cloak" to retrieve your original seed phrase.</li>
            </ul>

            <h3>Usage Instructions</h3>
            <ol>
                <li><strong>Encrypt</strong>: 
                    <ul>
                        <li>Select "Encrypt" mode.</li>
                        <li>Enter your 12 or 24-word seed phrase in the "Secret Seed Phrase Words" field.</li>
                        <li>Choose a key (numbers 1-9, separated by spaces) and an indentation (a number ≥ 0).</li>
                        <li>Click "Create Cloak" to generate the 2048-word list.</li>
                        <li>Use "Etch Cloak" to print or save the list for secure storage.</li>
                    </ul>
                </li>
                <li><strong>Decrypt</strong>: 
                    <ul>
                        <li>Select "Decrypt" mode.</li>
                        <li>Paste the 2048-word list into "Cloak Text".</li>
                        <li>Enter the same key, indentation, and seed length used for encryption.</li>
                        <li>Click "Unlock Cloak" to reveal your seed phrase.</li>
                    </ul>
                </li>
                <li><strong>Run Locally</strong>: 
                    <ul>
                        <li>Click "Forge Cloak Code" to download the tool as "cloak.html".</li>
                        <li>Save it to your computer and open it in a browser to use offline.</li>
                    </ul>
                </li>
            </ol>

            <h3>Important Notes</h3>
            <ul>
                <li><strong>Security</strong>: Keep your key and indentation super secret (hopefully easy to memorize). They are essential for decrypting your seed phrase. Remember, even if you use an easy to guess key like your birth date, the identation number provides an extra layer of encryption </li>
                <li><strong>Printing</strong>: The "Etch Cloak" button allows you to print the 2048-word list. Store it securely—without the key and indentation, without the key it's just a randomized BIP-39 seed word list.</li>
            </ul>

            <p>Explore the tool, secure your seed phrases, and sleep better with your new cloak.</p>
        </div>
    </div> -->
    
    <div id="introModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">X</span>
            <h2>🔐 Your Crypto. Your Control.</h2>
            <p>Your seed phrase is the gateway to your digital fortune—don’t let it fall into the hands of hackers, exes, or that one "tech-savvy" friend who always asks for your Wi-Fi password. With <b>Crypto Cloak</b>, you can encrypt your recovery phrase into a <b>2048-word cipher</b>, making it unreadable to anyone but you (and future you, hopefully).</p>

            <h2>🔑 How It Works</h2>
            <div class="step">1️⃣ <b>Input Your Seed Phrase</b><br>Enter your 12- or 24-word recovery phrase securely on your device. It never leaves your device—because we’re not nosy.</div>
            <div class="step">2️⃣ <b>Encryption: Convert to a Secure Cipher</b><br>Your phrase is transformed into an unreadable 2048-word encrypted list using a secure algorithm. Basically, it turns into digital soup utilizing all words in the BIP-39 list.</div>
            <div class="step">3️⃣ <b>Store Your Cipher & Encryption Key</b><br>Save your cipher physically or digitally. Just don’t write it on a sticky note labeled "Super Secret Seed Phrase."</div>
            <div class="step">4️⃣ <b>Decryption: Recover Your Seed Anytime</b><br>Enter your encryption key, identation amount and cipher to restore your original seed phrase. Like magic—but nerdier.</div>

            <h2>🔓 How to Find Your Seed Phrase</h2>
            <p>Your encrypted seed phrase is hidden inside the 2048-word list, and your <b>key + indentation</b> are the secret instructions to extract it. Think of it like a <b>treasure map</b>—except the treasure is your crypto, and the pirates are hackers.</p>
            
            <h3>Step 1: Understand Your Decryption Tools</h3>
            <ul>
                <li><b>2048-Word Cipher:</b> The massive list where your seed words are lurking.</li>
                <li><b>Your Key Sequence:</b> A set of numbers you chose (e.g., 2 3 4). No, it can’t be your birthday (jk but seriously c'mon).</li>
                <li><b>Indentation Value:</b> A starting offset that shifts the positions (e.g., 2). This makes it extra sneaky.</li>
                <li><b>Seed Phrase Length:</b> Whether your original phrase was 12 or 24 words.</li>
            </ul>
            
            <h3>Step 2: Find Your Seed Words</h3>
            <p><b>Either use our built in decrypt functionality (easy mode) or use the instructions below to manually decrypt.</b></p>
            <p>Each number in your key tells you how far to hop through the word list to find the next seed word. Think of it as the ultimate game of leapfrog.</p>
            <ul>
                <li>1️⃣ <b>Start at your indentation value:</b> If your indentation is 2, start at word #2.</li>
                <li>2️⃣ <b>Move forward using your key numbers:</b> If your key is 2 3 4, move:</li>
                <ul>
                    <li>+2 → Find your 1st seed word.</li>
                    <li>+3 → Find your 2nd seed word.</li>
                    <li>+4 → Find your 3rd seed word.</li>
                </ul>
                <li>3️⃣ <b>Repeat the key sequence:</b> Loop back to the beginning of the key and continue.</li>
            </ul>
            
            <h3>📌 Example Walkthrough</h3>
            <p>Let’s say:</p>
            <ul>
                <li><b>Indentation:</b> 2</li>
                <li><b>Key:</b> 2 3 4</li>
                <li><b>Seed phrase length:</b> 12 words</li>
            </ul>
            <p>🔹 Start at word #2 in the list.</p>
            <p>🔹 Use the key to find each word:</p>
            <ul>
                <li>+2 → Word #4 → (1st seed word)</li>
                <li>+3 → Word #7 → (2nd seed word)</li>
                <li>+4 → Word #11 → (3rd seed word)</li>
                <li>+2 → Word #13 → (4th seed word) (restart key sequence)</li>
                <li>+3 → Word #16 → (5th seed word)</li>
                <li>+4 → Word #20 → (6th seed word)</li>
                <li>+2 → Word #22 → (7th seed word)</li>
                <li>+3 → Word #25 → (8th seed word)</li>
                <li>+4 → Word #29 → (9th seed word)</li>
                <li>+2 → Word #31 → (10th seed word)</li>
                <li>+3 → Word #34 → (11th seed word)</li>
                <li>+4 → Word #38 → (12th seed word)</li>
            </ul>
            <p>📌 Boom! You’ve recovered your seed phrase.</p>
            
            <h3>💡 Why This Is Secure</h3>
            <ul>
                <li>Even if someone finds your 2048-word list, they won’t know which words are part of your seed unless they have your key. (Sucks to be them.)</li>
                <li>Your <b>key + indentation</b> are like a secret decoding formula—without them, the list is meaningless.</li>
                <li>The <b>seed words stay hidden</b> inside the 2048-word list, making brute force attacks practically useless.</li>
            </ul>
            <h3>💾 Run It Yourself</h3>
            <p>Not a fan of trusting us? Good. You shouldn’t trust anyone! You can download the code and run it locally on your machine, so you know for sure that no one’s snooping on your secrets.</p>
        
            <h3>🖨️ Print Your Seed (If You Dare)</h3>
            <p>Want a hard copy? You have the option to print your seed phrases. We've really thought of it all.</p>
        </div>
    </div>
    <h1 id="title" class="tooltip">Crypto Cloak: Wallet Seed Phrase Encryption
        <span class="tooltiptext">Welcome to the Cloak! Encrypt your 12 or 24-word seed phrase into a 2048-word cipher using two layers of protection: a key and indent. Toggle to decrypt your secrets.</span>
    </h1>
    <div class="toggle">
        <label class="switch tooltip">
            <input type="checkbox" id="modeSwitch" onchange="toggleMode()">
            <span class="slider"></span>
            <span class="tooltiptext">Flip the cloak switch: Encrypt locks your seed in 2048 words; Decrypt unlocks it with your key.</span>
        </label>
        <span id="modeLabel">Encrypt</span>
    </div>

    <form id="encryptForm" onsubmit="runEncryption(event)" class="active">
        <div class="form-group">
            <label for="encryptWords" class="tooltip">Secret Seed Phrase Words (12 or 24 Seed Words):
                <span class="tooltiptext">Enter your 12 or 24-word seed phrase. Use the hints to pick valid BIP-39 words—exactly 12 or 24 unique words.</span>
            </label>
            <div id="encryptWords" contenteditable="true" placeholder="Enter your seed phrase (e.g., abandon ability able...)"></div>
            <div id="suggestions"></div>
        </div>
        <div class="form-group">
            <label for="encryptKey" class="tooltip">Cloak Key (Numbers 1-9):
                <span class="tooltiptext">Craft your key with numbers 1-9 (e.g., '2 3 4'). This secret code tells us where to hide your seed in the 2048-word cloak.</span>
            </label>
            <input type="text" id="encryptKey" name="encryptKey" placeholder="e.g., 2 3 4" required>
        </div>
        <div class="form-group">
            <label for="encryptIndent" class="tooltip">Cloak Shift (Indent, 0+):
                <span class="tooltiptext">Add a shift (e.g., '20') to offset your words’ hiding spots. This will ensure that your seed phrase isn't always at the beginning of the list. Use this as an extra layer of security, but it can be set to '0' if unneeded.</span>
            </label>
            <input type="number" id="encryptIndent" name="encryptIndent" min="0" placeholder="e.g., 2" required>
        </div>
        <button type="submit" id="lockVaultButton" class="tooltip">Create Cloak
            <span class="tooltiptext">Seal your seed into a 2048-word cipher. Requires 12 or 24 words, a key, and shift.</span>
        </button>
    </form>

    <form id="decryptForm" onsubmit="runDecryption(event)">
        <div class="form-group">
            <label for="decryptWords" class="tooltip">Cloak Text (2048 Words):
                <span class="tooltiptext">Insert your 2048-word cloak to unlock your seed phrase.</span>
            </label>
            <textarea id="decryptWords" name="decryptWords" placeholder="Paste your 2048-word cloak here" required></textarea>
        </div>
        <div class="form-group">
            <label for="decryptKey" class="tooltip">Cloak Key (Numbers 1-9):
                <span class="tooltiptext">Use the same key (e.g., '2 3 4') to find your hidden seed words.</span>
            </label>
            <input type="text" id="decryptKey" name="decryptKey" placeholder="e.g., 2 3 4" required>
        </div>
        <div class="form-group">
            <label for="decryptIndent" class="tooltip">Cloak Shift (Indent, 0+):
                <span class="tooltiptext">Match the shift (e.g., '2') used to create the cloak.</span>
            </label>
            <input type="number" id="decryptIndent" name="decryptIndent" min="0" placeholder="e.g., 2" required>
        </div>
        <div class="form-group">
            <label class="tooltip">Seed Length:
                <span class="tooltiptext">Choose 12 or 24 to match your original seed length for extraction.</span>
            </label>
            <div class="radio-group">
                <label><input type="radio" name="seedLength" value="12" checked> 12</label>
                <label><input type="radio" name="seedLength" value="24"> 24</label>
            </div>
        </div>
        <button type="submit" id="unlockVaultButton" class="tooltip">Unlock Cloak
            <span class="tooltiptext">Reveal your seed phrase with the correct key and shift.</span>
        </button>
    </form>

    <div id="result" class="tooltip">
        <span class="tooltiptext">The cloaks contents: a 2048-word cipher or your decrypted seed. Uncrackable without the key and shift.</span>
    </div>
    <button id="printButton" onclick="printResult()" class="tooltip">Etch Cloak
        <span class="tooltiptext">Inscribe only the 2048-word cloak.</span>
    </button>
    <button id="downloadButton" onclick="downloadHTML()" class="tooltip">Forge Cloak Code
        <span class="tooltiptext">Download this functionality as 'cloak.html'. Open in a browser to run offline — no internet connection needed.</span>
    </button>
    <div id="error" class="error"></div>

    <script>
        var bip39Words = ["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse",
"access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act",
"action","actor","actress","actual","adapt","add","addict","address","adjust","admit",
"adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent",
"agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert",
"alien","all","alley","allow","almost","alone","alpha","already","also","alter",
"always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger",
"angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique",
"anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic",
"area","arena","argue","arm","armed","armor","army","around","arrange","arrest",
"arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset",
"assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction",
"audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake",
"aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge",
"bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain",
"barrel","base","basic","basket","battle","beach","bean","beauty","because","become",
"beef","before","begin","behave","behind","believe","below","belt","bench","benefit",
"best","betray","better","between","beyond","bicycle","bid","bike","bind","biology",
"bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless",
"blind","blood","blossom","blouse","blue","blur","blush","board","boat","body",
"boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss",
"bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread",
"breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze",
"broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb",
"bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy",
"butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call",
"calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas",
"canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry",
"cart","case","cash","casino","castle","casual","cat","catalog","catch","category",
"cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century",
"cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase",
"chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child",
"chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle",
"citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk",
"clever","click","client","cliff","climb","clinic","clip","clock","clog","close",
"cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut",
"code","coffee","coil","coin","collect","color","column","combine","come","comfort",
"comic","common","company","concert","conduct","confirm","congress","connect","consider","control",
"convince","cook","cool","copper","copy","coral","core","corn","correct","cost",
"cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle",
"craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek",
"crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial",
"cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup",
"cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad",
"damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal",
"debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense",
"define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny",
"depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk",
"despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond",
"diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur",
"direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance",
"divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain",
"donate","donkey","donor","door","dose","double","dove","draft","dragon","drama",
"drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop",
"drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf",
"dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo",
"ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow",
"elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody",
"embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless",
"endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough",
"enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip",
"era","erase","erode","erosion","error","erupt","escape","essay","essence","estate",
"eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange",
"excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit",
"exotic","expand","expect","expire","explain","expose","express","extend","extra","eye",
"eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame",
"family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father",
"fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female",
"fence","festival","fetch","fever","few","fiber","fiction","field","figure","file",
"film","filter","final","find","fine","finger","finish","fire","firm","first",
"fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor",
"flee","flight","flip","float","flock","floor","flower","fluid","flush","fly",
"foam","focus","fog","foil","fold","follow","food","foot","force","forest",
"forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile",
"frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen",
"fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy",
"gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp",
"gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture",
"ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance",
"glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue",
"goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown",
"grab","grace","grain","grant","grape","grass","gravity","great","green","grid",
"grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt",
"guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy",
"harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health",
"heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden",
"high","hill","hint","hip","hire","history","hobby","hockey","hold","hole",
"holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital",
"host","hotel","hour","hover","hub","huge","human","humble","humor","hundred",
"hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea",
"identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune",
"impact","impose","improve","impulse","inch","include","income","increase","index","indicate",
"indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury",
"inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install",
"intact","interest","into","invest","invite","involve","iron","island","isolate","issue",
"item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel",
"job","join","joke","journey","joy","judge","juice","jump","jungle","junior",
"junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney",
"kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife",
"knock","know","lab","label","labor","ladder","lady","lake","lamp","language",
"laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit",
"layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal",
"legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level",
"liar","liberty","library","license","life","lift","light","like","limb","limit",
"link","lion","liquid","list","little","live","lizard","load","loan","lobster",
"local","lock","logic","lonely","long","loop","lottery","loud","lounge","love",
"loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad",
"magic","magnet","maid","mail","main","major","make","mammal","man","manage",
"mandate","mango","mansion","manual","maple","marble","march","margin","marine","market",
"marriage","mask","mass","master","match","material","math","matrix","matter","maximum",
"maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt",
"member","memory","mention","menu","mercy","merge","merit","merry","mesh","message",
"metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor",
"minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile",
"model","modify","mom","moment","monitor","monkey","monster","month","moon","moral",
"more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie",
"much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual",
"myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature",
"near","neck","need","negative","neglect","neither","nephew","nerve","nest","net",
"network","neutral","never","news","next","nice","night","noble","noise","nominee",
"noodle","normal","north","nose","notable","note","nothing","notice","novel","now",
"nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe",
"obtain","obvious","occur","ocean","october","odor","off","offer","office","often",
"oil","okay","old","olive","olympic","omit","once","one","onion","online",
"only","open","opera","opinion","oppose","option","orange","orbit","orchard","order",
"ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output",
"outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact",
"paddle","page","pair","palace","palm","panda","panel","panic","panther","paper",
"parade","parent","park","parrot","party","pass","patch","path","patient","patrol",
"pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen",
"penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo",
"phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot",
"pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate",
"play","please","pledge","pluck","plug","plunge","poem","poet","point","polar",
"pole","police","pond","pony","pool","popular","portion","position","possible","post",
"potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare",
"present","pretty","prevent","price","pride","primary","print","priority","prison","private",
"prize","problem","process","produce","profit","program","project","promote","proof","property",
"prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin",
"punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle",
"pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit",
"raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp",
"ranch","random","range","rapid","rare","rate","rather","raven","raw","razor",
"ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle",
"reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release",
"relief","rely","remain","remember","remind","remove","render","renew","rent","reopen",
"repair","repeat","replace","report","require","rescue","resemble","resist","resource","response",
"result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib",
"ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot",
"ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket",
"romance","roof","rookie","room","rose","rotate","rough","round","route","royal",
"rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness",
"safe","sail","salad","salmon","salon","salt","salute","same","sample","sand",
"satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter",
"scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script",
"scrub","sea","search","season","seat","second","secret","section","security","seed",
"seek","segment","select","sell","seminar","senior","sense","sentence","series","service",
"session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell",
"sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop",
"short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side",
"siege","sight","sign","silent","silk","silly","silver","similar","simple","since",
"sing","siren","sister","situate","six","size","skate","sketch","ski","skill",
"skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight",
"slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth",
"snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda",
"soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry",
"sort","soul","sound","soup","source","south","space","spare","spatial","spawn",
"speak","special","speed","spell","spend","sphere","spice","spider","spike","spin",
"spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring",
"spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp",
"stand","start","state","stay","steak","steel","stem","step","stereo","stick",
"still","sting","stock","stomach","stone","stool","story","stove","strategy","street",
"strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway",
"success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny",
"sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey",
"suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim",
"swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag",
"tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi",
"teach","team","tell","ten","tenant","tennis","tent","term","test","text",
"thank","that","theme","then","theory","there","they","thing","this","thought",
"three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber",
"time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler",
"toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool",
"tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist",
"toward","tower","town","toy","track","trade","traffic","tragic","train","transfer",
"trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick",
"trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust",
"truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle",
"twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella",
"unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform",
"unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade",
"uphold","upon","upper","upset","urban","urge","usage","use","used","useful",
"useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van",
"vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue",
"verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory",
"video","view","village","vintage","violin","virtual","virus","visa","visit","visual",
"vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage",
"wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash",
"wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather",
"web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat",
"wheel","when","where","whip","whisper","wide","width","wife","wild","will",
"win","window","wine","wing","wink","winner","winter","wire","wisdom","wise",
"wish","witness","wolf","woman","wonder","wood","wool","word","work","world",
"worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year",
"yellow","you","young","youth","zebra","zero","zone","zoo"];

        var encryptWordsDiv = document.getElementById("encryptWords");
        var suggestionsDiv = document.getElementById("suggestions");

        // Placeholder handling
        if (!encryptWordsDiv.textContent.trim()) {
            encryptWordsDiv.classList.add("placeholder");
            encryptWordsDiv.textContent = encryptWordsDiv.getAttribute("placeholder");
        }
        encryptWordsDiv.addEventListener("focus", function() {
            if (this.textContent === this.getAttribute("placeholder")) {
                this.textContent = "";
                this.classList.remove("placeholder");
            }
        });
        encryptWordsDiv.addEventListener("blur", function() {
            if (!this.textContent.trim()) {
                this.textContent = this.getAttribute("placeholder");
                this.classList.add("placeholder");
            }
        });

        // Autocomplete functionality
        encryptWordsDiv.addEventListener("input", function(e) {
            var text = this.textContent.trim();
            if (text === this.getAttribute("placeholder")) return;

            var words = text.split(/\s+/);
            var lastWord = words[words.length - 1];
            var selection = window.getSelection();
            var range = selection.rangeCount > 0 ? selection.getRangeAt(0) : null;
            var caretAtEndOfLastWord = range && (range.startOffset >= text.length || text[range.startOffset] === " ");

            if (lastWord && caretAtEndOfLastWord) {
                var matches = bip39Words.filter(word => word.startsWith(lastWord.toLowerCase())).slice(0, 5);
                console.log("Typing:", lastWord, "Matches:", matches);

                if (matches.length > 0) {
                    suggestionsDiv.innerHTML = "";
                    matches.forEach(match => {
                        var suggestion = document.createElement("div");
                        suggestion.className = "suggestion";
                        suggestion.textContent = match;
                        suggestion.addEventListener("click", function() {
                            words[words.length - 1] = match;
                            encryptWordsDiv.textContent = words.join(" ") + " ";
                            suggestionsDiv.style.display = "none";
                            encryptWordsDiv.focus();
                            var range = document.createRange();
                            range.selectNodeContents(encryptWordsDiv);
                            range.collapse(false);
                            var sel = window.getSelection();
                            sel.removeAllRanges();
                            sel.addRange(range);
                        });
                        suggestionsDiv.appendChild(suggestion);
                    });

                    var rect = encryptWordsDiv.getBoundingClientRect();
                    suggestionsDiv.style.left = rect.left + "px";
                    suggestionsDiv.style.top = (rect.bottom + window.scrollY) + "px";
                    suggestionsDiv.style.display = "block";
                } else {
                    suggestionsDiv.style.display = "none";
                }
            } else {
                suggestionsDiv.style.display = "none";
            }
        });

        document.addEventListener("click", function(e) {
            if (!encryptWordsDiv.contains(e.target) && !suggestionsDiv.contains(e.target)) {
                suggestionsDiv.style.display = "none";
            }
        });

        encryptWordsDiv.addEventListener("keydown", function(e) {
            if (e.key === " " || e.key === "Enter") {
                suggestionsDiv.style.display = "none";
            }
        });

        function encryptWords(words, keyPattern, indent) {
            if (words.length !== 12 && words.length !== 24) {
                throw new Error("Cloak requires exactly 12 or 24 words");
            }

            for (var i = 0; i < words.length; i++) {
                if (bip39Words.indexOf(words[i].toLowerCase()) === -1) {
                    throw new Error("Invalid cloak word detected");
                }
            }

            var uniqueInputWords = new Set(words.map(function(word) { return word.toLowerCase(); }));
            if (uniqueInputWords.size !== words.length) {
                throw new Error("Duplicate words break the cloak");
            }

            var positions = [];
            var currentPos = indent;

            for (var i = 0; i < words.length; i++) {
                var keyVal = keyPattern[i % keyPattern.length];
                if (i === 0) {
                    currentPos = indent + (keyVal - 1);
                } else {
                    currentPos += keyVal;
                }
                positions.push(currentPos);
            }

            var maxPos = Math.max.apply(null, positions);
            if (maxPos >= 2048) {
                throw new Error("Cloak shift exceeds limits");
            }

            var result = new Array(2048);
            var usedWords = new Set(uniqueInputWords);

            for (var i = 0; i < positions.length; i++) {
                result[positions[i]] = words[i].toLowerCase();
            }

            var remainingWords = bip39Words.filter(function(word) {
                return !usedWords.has(word);
            });

            for (var i = remainingWords.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = remainingWords[i];
                remainingWords[i] = remainingWords[j];
                remainingWords[j] = temp;
            }

            var remainingIndex = 0;
            for (var i = 0; i < 2048; i++) {
                if (!result[i]) {
                    result[i] = remainingWords[remainingIndex];
                    remainingIndex++;
                }
            }

            return result.join(" ");
        }

        function decryptWords(encryptedWords, keyPattern, indent, seedLength) {
            var words = encryptedWords.trim().split(" ");

            if (words.length !== 2048) {
                throw new Error("Cloak must contain exactly 2048 words");
            }

            for (var i = 0; i < words.length; i++) {
                if (bip39Words.indexOf(words[i].toLowerCase()) === -1) {
                    throw new Error("Invalid word in cloak text");
                }
            }

            var uniqueWords = new Set(words.map(function(word) { return word.toLowerCase(); }));
            if (uniqueWords.size !== 2048) {
                throw new Error("Cloak must have 2048 unique words");
            }

            var positions = [];
            var currentPos = indent;

            for (var i = 0; i < seedLength; i++) {
                var keyVal = keyPattern[i % keyPattern.length];
                if (i === 0) {
                    currentPos = indent + (keyVal - 1);
                } else {
                    currentPos += keyVal;
                }
                positions.push(currentPos);
            }

            var maxPos = Math.max.apply(null, positions);
            if (maxPos >= 2048) {
                throw new Error("Shift exceeds cloak bounds");
            }

            var seedPhrase = [];
            for (var i = 0; i < positions.length; i++) {
                seedPhrase.push(words[positions[i]]);
            }

            return seedPhrase.join(" ");
        }

        function runEncryption(event) {
            event.preventDefault();
            var resultDiv = document.getElementById("result");
            var errorDiv = document.getElementById("error");
            var printButton = document.getElementById("printButton");
            resultDiv.innerHTML = "";
            errorDiv.innerHTML = "";
            printButton.style.display = "none";

            var wordsInput = document.getElementById("encryptWords").textContent.trim();
            var keyInput = document.getElementById("encryptKey").value;
            var indentInput = document.getElementById("encryptIndent").value;

            try {
                if (wordsInput === encryptWordsDiv.getAttribute("placeholder")) {
                    throw new Error("Enter 12 or 24 cloak words");
                }
                var words = wordsInput.split(/\s+/).filter(Boolean);
                var keyPattern = keyInput.trim().split(" ").map(function(num) {
                    var parsed = parseInt(num);
                    if (isNaN(parsed) || parsed < 1 || parsed > 9) {
                        throw new Error("Key must use numbers 1-9");
                    }
                    return parsed;
                });
                var indent = parseInt(indentInput);
                if (isNaN(indent) || indent < 0) {
                    throw new Error("Shift must be 0 or higher");
                }

                var encrypted = encryptWords(words, keyPattern, indent);
                resultDiv.innerHTML = encrypted;
                printButton.style.display = "block";
            } catch (error) {
                errorDiv.innerHTML = error.message;
            }
        }

        function runDecryption(event) {
            event.preventDefault();
            var resultDiv = document.getElementById("result");
            var errorDiv = document.getElementById("error");
            var printButton = document.getElementById("printButton");
            resultDiv.innerHTML = "";
            errorDiv.innerHTML = "";
            printButton.style.display = "none";

            var wordsInput = document.getElementById("decryptWords").value;
            var keyInput = document.getElementById("decryptKey").value;
            var indentInput = document.getElementById("decryptIndent").value;
            var seedLength = parseInt(document.querySelector('input[name="seedLength"]:checked').value);

            try {
                var keyPattern = keyInput.trim().split(" ").map(function(num) {
                    var parsed = parseInt(num);
                    if (isNaN(parsed) || parsed < 1 || parsed > 9) {
                        throw new Error("Key must use numbers 1-9");
                    }
                    return parsed;
                });
                var indent = parseInt(indentInput);
                if (isNaN(indent) || indent < 0) {
                    throw new Error("Shift must be 0 or higher");
                }

                var decrypted = decryptWords(wordsInput, keyPattern, indent, seedLength);
                resultDiv.innerHTML = decrypted;
            } catch (error) {
                errorDiv.innerHTML = error.message;
            }
        }

        function toggleMode() {
            var encryptForm = document.getElementById("encryptForm");
            var decryptForm = document.getElementById("decryptForm");
            var modeSwitch = document.getElementById("modeSwitch");
            var title = document.getElementById("title");
            var modeLabel = document.getElementById("modeLabel");
            var resultDiv = document.getElementById("result");
            var errorDiv = document.getElementById("error");
            var printButton = document.getElementById("printButton");

            if (modeSwitch.checked) {
                encryptForm.classList.remove("active");
                decryptForm.classList.add("active");
                title.innerHTML = "Crypto Cloak: Seed Decryption";
                modeLabel.innerHTML = "Decrypt";
                printButton.style.display = "none";
            } else {
                encryptForm.classList.add("active");
                decryptForm.classList.remove("active");
                title.innerHTML = "Crypto Cloak: Seed Encryption";
                modeLabel.innerHTML = "Encrypt";
                printButton.style.display = resultDiv.innerHTML ? "block" : "none";
            }
            resultDiv.innerHTML = "";
            errorDiv.innerHTML = "";
            suggestionsDiv.style.display = "none";
        }

        function printResult() {
            var resultContent = document.getElementById("result").innerHTML;
            
            var iframe = document.createElement("iframe");
            iframe.style.position = "absolute";
            iframe.style.width = "0";
            iframe.style.height = "0";
            iframe.style.border = "none";
            document.body.appendChild(iframe);

            var doc = iframe.contentWindow.document;
            doc.open();
            doc.write('<html><body style="font-family: monospace; color: #000;">' + resultContent + '</body></html>');
            doc.close();

            iframe.contentWindow.focus();
            iframe.contentWindow.print();

            setTimeout(function() {
                document.body.removeChild(iframe);
            }, 1000);
        }

        function downloadHTML() {
            var htmlContent = document.documentElement.outerHTML;
            var blob = new Blob([htmlContent], { type: "text/html" });
            var url = window.URL.createObjectURL(blob);
            var a = document.createElement("a");
            a.href = url;
            a.download = "cloak.html";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // Modal close function
        function closeModal() {
            document.getElementById("introModal").style.display = "none";
        }

        // Ensure modal shows on load
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("introModal").style.display = "block";
        });

        document.getElementById("encryptForm").classList.add("active");
        toggleMode();
    </script>
    <div>Made with ❤️ by Decrypt Labs</div>
</body>
</html>